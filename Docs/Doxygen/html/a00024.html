<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>BestRoombaNA: nlohmann::detail::binary_writer&lt; BasicJsonType, CharType &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BestRoombaNA
   &#160;<span id="projectnumber">3.0</span>
   </div>
   <div id="projectbrief">Roomba Project voor SEL2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00024.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="a00837.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">nlohmann::detail::binary_writer&lt; BasicJsonType, CharType &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>serialization to CBOR and MessagePack values  
 <a href="a00024.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="a00419_source.html">json.hpp</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a373289af95a946c19bb4a58a5df71a78"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00024.html#a373289af95a946c19bb4a58a5df71a78">binary_writer</a> (<a class="el" href="a00528.html#a0fd8edff7729aa2dd92b070964bade2e">output_adapter_t</a>&lt; CharType &gt; adapter)</td></tr>
<tr class="memdesc:a373289af95a946c19bb4a58a5df71a78"><td class="mdescLeft">&#160;</td><td class="mdescRight">create a binary writer  <a href="#a373289af95a946c19bb4a58a5df71a78">More...</a><br /></td></tr>
<tr class="separator:a373289af95a946c19bb4a58a5df71a78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0ab8d27fd88a33a2f801413ac4c7fbc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00024.html#aa0ab8d27fd88a33a2f801413ac4c7fbc">write_cbor</a> (const BasicJsonType &amp;j)</td></tr>
<tr class="memdesc:aa0ab8d27fd88a33a2f801413ac4c7fbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">[in] j JSON value to serialize  <a href="#aa0ab8d27fd88a33a2f801413ac4c7fbc">More...</a><br /></td></tr>
<tr class="separator:aa0ab8d27fd88a33a2f801413ac4c7fbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4e0852b64102ce4b07d99f08f828b7c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00024.html#ae4e0852b64102ce4b07d99f08f828b7c">write_msgpack</a> (const BasicJsonType &amp;j)</td></tr>
<tr class="memdesc:ae4e0852b64102ce4b07d99f08f828b7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">[in] j JSON value to serialize  <a href="#ae4e0852b64102ce4b07d99f08f828b7c">More...</a><br /></td></tr>
<tr class="separator:ae4e0852b64102ce4b07d99f08f828b7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f6c65053d859269f88eb4ebb0cd7060"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00024.html#a0f6c65053d859269f88eb4ebb0cd7060">write_ubjson</a> (const BasicJsonType &amp;j, const bool use_count, const bool use_type, const bool add_prefix=true)</td></tr>
<tr class="separator:a0f6c65053d859269f88eb4ebb0cd7060"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename BasicJsonType, typename CharType&gt;<br />
class nlohmann::detail::binary_writer&lt; BasicJsonType, CharType &gt;</h3>

<p>serialization to CBOR and MessagePack values </p>

<p>Definition at line <a class="el" href="a00419_source.html#l06232">6232</a> of file <a class="el" href="a00419_source.html">json.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a373289af95a946c19bb4a58a5df71a78"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename BasicJsonType , typename CharType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00024.html">nlohmann::detail::binary_writer</a>&lt; BasicJsonType, CharType &gt;::<a class="el" href="a00024.html">binary_writer</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00528.html#a0fd8edff7729aa2dd92b070964bade2e">output_adapter_t</a>&lt; CharType &gt;&#160;</td>
          <td class="paramname"><em>adapter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>create a binary writer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adapter</td><td>output adapter to write to </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00419_source.html#l06240">6240</a> of file <a class="el" href="a00419_source.html">json.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160;                                                               : oa(adapter)</div><div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;    {</div><div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;        assert(oa);</div><div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa0ab8d27fd88a33a2f801413ac4c7fbc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename BasicJsonType , typename CharType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="a00024.html">nlohmann::detail::binary_writer</a>&lt; BasicJsonType, CharType &gt;::write_cbor </td>
          <td>(</td>
          <td class="paramtype">const BasicJsonType &amp;&#160;</td>
          <td class="paramname"><em>j</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>[in] j JSON value to serialize </p>

<p>Definition at line <a class="el" href="a00419_source.html#l06248">6248</a> of file <a class="el" href="a00419_source.html">json.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;    {</div><div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160;        <span class="keywordflow">switch</span> (j.type())</div><div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;        {</div><div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985a37a6259cc0c1dae299a7866489dff0bd">value_t::null</a>:</div><div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;            {</div><div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160;                oa-&gt;write_character(static_cast&lt;CharType&gt;(0xF6));</div><div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160;            }</div><div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160;</div><div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985a84e2c64f38f78ba3ea5c905ab5a2da27">value_t::boolean</a>:</div><div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160;            {</div><div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160;                oa-&gt;write_character(j.m_value.boolean</div><div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;                                    ? static_cast&lt;CharType&gt;(0xF5)</div><div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160;                                    : static_cast&lt;CharType&gt;(0xF4));</div><div class="line"><a name="l06263"></a><span class="lineno"> 6263</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160;            }</div><div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160;</div><div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985a5763da164f8659d94a56e29df64b4bcc">value_t::number_integer</a>:</div><div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160;            {</div><div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160;                <span class="keywordflow">if</span> (j.m_value.number_integer &gt;= 0)</div><div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160;                {</div><div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160;                    <span class="comment">// CBOR does not differentiate between positive signed</span></div><div class="line"><a name="l06271"></a><span class="lineno"> 6271</span>&#160;                    <span class="comment">// integers and unsigned integers. Therefore, we used the</span></div><div class="line"><a name="l06272"></a><span class="lineno"> 6272</span>&#160;                    <span class="comment">// code from the value_t::number_unsigned case here.</span></div><div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160;                    <span class="keywordflow">if</span> (j.m_value.number_integer &lt;= 0x17)</div><div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160;                    {</div><div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160;                        write_number(static_cast&lt;uint8_t&gt;(j.m_value.number_integer));</div><div class="line"><a name="l06276"></a><span class="lineno"> 6276</span>&#160;                    }</div><div class="line"><a name="l06277"></a><span class="lineno"> 6277</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j.m_value.number_integer &lt;= (std::numeric_limits&lt;uint8_t&gt;::max)())</div><div class="line"><a name="l06278"></a><span class="lineno"> 6278</span>&#160;                    {</div><div class="line"><a name="l06279"></a><span class="lineno"> 6279</span>&#160;                        oa-&gt;write_character(static_cast&lt;CharType&gt;(0x18));</div><div class="line"><a name="l06280"></a><span class="lineno"> 6280</span>&#160;                        write_number(static_cast&lt;uint8_t&gt;(j.m_value.number_integer));</div><div class="line"><a name="l06281"></a><span class="lineno"> 6281</span>&#160;                    }</div><div class="line"><a name="l06282"></a><span class="lineno"> 6282</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j.m_value.number_integer &lt;= (std::numeric_limits&lt;uint16_t&gt;::max)())</div><div class="line"><a name="l06283"></a><span class="lineno"> 6283</span>&#160;                    {</div><div class="line"><a name="l06284"></a><span class="lineno"> 6284</span>&#160;                        oa-&gt;write_character(static_cast&lt;CharType&gt;(0x19));</div><div class="line"><a name="l06285"></a><span class="lineno"> 6285</span>&#160;                        write_number(static_cast&lt;uint16_t&gt;(j.m_value.number_integer));</div><div class="line"><a name="l06286"></a><span class="lineno"> 6286</span>&#160;                    }</div><div class="line"><a name="l06287"></a><span class="lineno"> 6287</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j.m_value.number_integer &lt;= (std::numeric_limits&lt;uint32_t&gt;::max)())</div><div class="line"><a name="l06288"></a><span class="lineno"> 6288</span>&#160;                    {</div><div class="line"><a name="l06289"></a><span class="lineno"> 6289</span>&#160;                        oa-&gt;write_character(static_cast&lt;CharType&gt;(0x1A));</div><div class="line"><a name="l06290"></a><span class="lineno"> 6290</span>&#160;                        write_number(static_cast&lt;uint32_t&gt;(j.m_value.number_integer));</div><div class="line"><a name="l06291"></a><span class="lineno"> 6291</span>&#160;                    }</div><div class="line"><a name="l06292"></a><span class="lineno"> 6292</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l06293"></a><span class="lineno"> 6293</span>&#160;                    {</div><div class="line"><a name="l06294"></a><span class="lineno"> 6294</span>&#160;                        oa-&gt;write_character(static_cast&lt;CharType&gt;(0x1B));</div><div class="line"><a name="l06295"></a><span class="lineno"> 6295</span>&#160;                        write_number(static_cast&lt;uint64_t&gt;(j.m_value.number_integer));</div><div class="line"><a name="l06296"></a><span class="lineno"> 6296</span>&#160;                    }</div><div class="line"><a name="l06297"></a><span class="lineno"> 6297</span>&#160;                }</div><div class="line"><a name="l06298"></a><span class="lineno"> 6298</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l06299"></a><span class="lineno"> 6299</span>&#160;                {</div><div class="line"><a name="l06300"></a><span class="lineno"> 6300</span>&#160;                    <span class="comment">// The conversions below encode the sign in the first</span></div><div class="line"><a name="l06301"></a><span class="lineno"> 6301</span>&#160;                    <span class="comment">// byte, and the value is converted to a positive number.</span></div><div class="line"><a name="l06302"></a><span class="lineno"> 6302</span>&#160;                    <span class="keyword">const</span> <span class="keyword">auto</span> positive_number = -1 - j.m_value.number_integer;</div><div class="line"><a name="l06303"></a><span class="lineno"> 6303</span>&#160;                    <span class="keywordflow">if</span> (j.m_value.number_integer &gt;= -24)</div><div class="line"><a name="l06304"></a><span class="lineno"> 6304</span>&#160;                    {</div><div class="line"><a name="l06305"></a><span class="lineno"> 6305</span>&#160;                        write_number(static_cast&lt;uint8_t&gt;(0x20 + positive_number));</div><div class="line"><a name="l06306"></a><span class="lineno"> 6306</span>&#160;                    }</div><div class="line"><a name="l06307"></a><span class="lineno"> 6307</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (positive_number &lt;= (std::numeric_limits&lt;uint8_t&gt;::max)())</div><div class="line"><a name="l06308"></a><span class="lineno"> 6308</span>&#160;                    {</div><div class="line"><a name="l06309"></a><span class="lineno"> 6309</span>&#160;                        oa-&gt;write_character(static_cast&lt;CharType&gt;(0x38));</div><div class="line"><a name="l06310"></a><span class="lineno"> 6310</span>&#160;                        write_number(static_cast&lt;uint8_t&gt;(positive_number));</div><div class="line"><a name="l06311"></a><span class="lineno"> 6311</span>&#160;                    }</div><div class="line"><a name="l06312"></a><span class="lineno"> 6312</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (positive_number &lt;= (std::numeric_limits&lt;uint16_t&gt;::max)())</div><div class="line"><a name="l06313"></a><span class="lineno"> 6313</span>&#160;                    {</div><div class="line"><a name="l06314"></a><span class="lineno"> 6314</span>&#160;                        oa-&gt;write_character(static_cast&lt;CharType&gt;(0x39));</div><div class="line"><a name="l06315"></a><span class="lineno"> 6315</span>&#160;                        write_number(static_cast&lt;uint16_t&gt;(positive_number));</div><div class="line"><a name="l06316"></a><span class="lineno"> 6316</span>&#160;                    }</div><div class="line"><a name="l06317"></a><span class="lineno"> 6317</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (positive_number &lt;= (std::numeric_limits&lt;uint32_t&gt;::max)())</div><div class="line"><a name="l06318"></a><span class="lineno"> 6318</span>&#160;                    {</div><div class="line"><a name="l06319"></a><span class="lineno"> 6319</span>&#160;                        oa-&gt;write_character(static_cast&lt;CharType&gt;(0x3A));</div><div class="line"><a name="l06320"></a><span class="lineno"> 6320</span>&#160;                        write_number(static_cast&lt;uint32_t&gt;(positive_number));</div><div class="line"><a name="l06321"></a><span class="lineno"> 6321</span>&#160;                    }</div><div class="line"><a name="l06322"></a><span class="lineno"> 6322</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l06323"></a><span class="lineno"> 6323</span>&#160;                    {</div><div class="line"><a name="l06324"></a><span class="lineno"> 6324</span>&#160;                        oa-&gt;write_character(static_cast&lt;CharType&gt;(0x3B));</div><div class="line"><a name="l06325"></a><span class="lineno"> 6325</span>&#160;                        write_number(static_cast&lt;uint64_t&gt;(positive_number));</div><div class="line"><a name="l06326"></a><span class="lineno"> 6326</span>&#160;                    }</div><div class="line"><a name="l06327"></a><span class="lineno"> 6327</span>&#160;                }</div><div class="line"><a name="l06328"></a><span class="lineno"> 6328</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06329"></a><span class="lineno"> 6329</span>&#160;            }</div><div class="line"><a name="l06330"></a><span class="lineno"> 6330</span>&#160;</div><div class="line"><a name="l06331"></a><span class="lineno"> 6331</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985adce7cc8ec29055c4158828921f2f265e">value_t::number_unsigned</a>:</div><div class="line"><a name="l06332"></a><span class="lineno"> 6332</span>&#160;            {</div><div class="line"><a name="l06333"></a><span class="lineno"> 6333</span>&#160;                <span class="keywordflow">if</span> (j.m_value.number_unsigned &lt;= 0x17)</div><div class="line"><a name="l06334"></a><span class="lineno"> 6334</span>&#160;                {</div><div class="line"><a name="l06335"></a><span class="lineno"> 6335</span>&#160;                    write_number(static_cast&lt;uint8_t&gt;(j.m_value.number_unsigned));</div><div class="line"><a name="l06336"></a><span class="lineno"> 6336</span>&#160;                }</div><div class="line"><a name="l06337"></a><span class="lineno"> 6337</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j.m_value.number_unsigned &lt;= (std::numeric_limits&lt;uint8_t&gt;::max)())</div><div class="line"><a name="l06338"></a><span class="lineno"> 6338</span>&#160;                {</div><div class="line"><a name="l06339"></a><span class="lineno"> 6339</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0x18));</div><div class="line"><a name="l06340"></a><span class="lineno"> 6340</span>&#160;                    write_number(static_cast&lt;uint8_t&gt;(j.m_value.number_unsigned));</div><div class="line"><a name="l06341"></a><span class="lineno"> 6341</span>&#160;                }</div><div class="line"><a name="l06342"></a><span class="lineno"> 6342</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j.m_value.number_unsigned &lt;= (std::numeric_limits&lt;uint16_t&gt;::max)())</div><div class="line"><a name="l06343"></a><span class="lineno"> 6343</span>&#160;                {</div><div class="line"><a name="l06344"></a><span class="lineno"> 6344</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0x19));</div><div class="line"><a name="l06345"></a><span class="lineno"> 6345</span>&#160;                    write_number(static_cast&lt;uint16_t&gt;(j.m_value.number_unsigned));</div><div class="line"><a name="l06346"></a><span class="lineno"> 6346</span>&#160;                }</div><div class="line"><a name="l06347"></a><span class="lineno"> 6347</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j.m_value.number_unsigned &lt;= (std::numeric_limits&lt;uint32_t&gt;::max)())</div><div class="line"><a name="l06348"></a><span class="lineno"> 6348</span>&#160;                {</div><div class="line"><a name="l06349"></a><span class="lineno"> 6349</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0x1A));</div><div class="line"><a name="l06350"></a><span class="lineno"> 6350</span>&#160;                    write_number(static_cast&lt;uint32_t&gt;(j.m_value.number_unsigned));</div><div class="line"><a name="l06351"></a><span class="lineno"> 6351</span>&#160;                }</div><div class="line"><a name="l06352"></a><span class="lineno"> 6352</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l06353"></a><span class="lineno"> 6353</span>&#160;                {</div><div class="line"><a name="l06354"></a><span class="lineno"> 6354</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0x1B));</div><div class="line"><a name="l06355"></a><span class="lineno"> 6355</span>&#160;                    write_number(static_cast&lt;uint64_t&gt;(j.m_value.number_unsigned));</div><div class="line"><a name="l06356"></a><span class="lineno"> 6356</span>&#160;                }</div><div class="line"><a name="l06357"></a><span class="lineno"> 6357</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06358"></a><span class="lineno"> 6358</span>&#160;            }</div><div class="line"><a name="l06359"></a><span class="lineno"> 6359</span>&#160;</div><div class="line"><a name="l06360"></a><span class="lineno"> 6360</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985ad9966ecb59667235a57b4b999a649eef">value_t::number_float</a>: <span class="comment">// Double-Precision Float</span></div><div class="line"><a name="l06361"></a><span class="lineno"> 6361</span>&#160;            {</div><div class="line"><a name="l06362"></a><span class="lineno"> 6362</span>&#160;                oa-&gt;write_character(static_cast&lt;CharType&gt;(0xFB));</div><div class="line"><a name="l06363"></a><span class="lineno"> 6363</span>&#160;                write_number(j.m_value.number_float);</div><div class="line"><a name="l06364"></a><span class="lineno"> 6364</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06365"></a><span class="lineno"> 6365</span>&#160;            }</div><div class="line"><a name="l06366"></a><span class="lineno"> 6366</span>&#160;</div><div class="line"><a name="l06367"></a><span class="lineno"> 6367</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985ab45cffe084dd3d20d928bee85e7b0f21">value_t::string</a>:</div><div class="line"><a name="l06368"></a><span class="lineno"> 6368</span>&#160;            {</div><div class="line"><a name="l06369"></a><span class="lineno"> 6369</span>&#160;                <span class="comment">// step 1: write control byte and the string length</span></div><div class="line"><a name="l06370"></a><span class="lineno"> 6370</span>&#160;                <span class="keyword">const</span> <span class="keyword">auto</span> N = j.m_value.string-&gt;size();</div><div class="line"><a name="l06371"></a><span class="lineno"> 6371</span>&#160;                <span class="keywordflow">if</span> (N &lt;= 0x17)</div><div class="line"><a name="l06372"></a><span class="lineno"> 6372</span>&#160;                {</div><div class="line"><a name="l06373"></a><span class="lineno"> 6373</span>&#160;                    write_number(static_cast&lt;uint8_t&gt;(0x60 + N));</div><div class="line"><a name="l06374"></a><span class="lineno"> 6374</span>&#160;                }</div><div class="line"><a name="l06375"></a><span class="lineno"> 6375</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N &lt;= (std::numeric_limits&lt;uint8_t&gt;::max)())</div><div class="line"><a name="l06376"></a><span class="lineno"> 6376</span>&#160;                {</div><div class="line"><a name="l06377"></a><span class="lineno"> 6377</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0x78));</div><div class="line"><a name="l06378"></a><span class="lineno"> 6378</span>&#160;                    write_number(static_cast&lt;uint8_t&gt;(N));</div><div class="line"><a name="l06379"></a><span class="lineno"> 6379</span>&#160;                }</div><div class="line"><a name="l06380"></a><span class="lineno"> 6380</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N &lt;= (std::numeric_limits&lt;uint16_t&gt;::max)())</div><div class="line"><a name="l06381"></a><span class="lineno"> 6381</span>&#160;                {</div><div class="line"><a name="l06382"></a><span class="lineno"> 6382</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0x79));</div><div class="line"><a name="l06383"></a><span class="lineno"> 6383</span>&#160;                    write_number(static_cast&lt;uint16_t&gt;(N));</div><div class="line"><a name="l06384"></a><span class="lineno"> 6384</span>&#160;                }</div><div class="line"><a name="l06385"></a><span class="lineno"> 6385</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N &lt;= (std::numeric_limits&lt;uint32_t&gt;::max)())</div><div class="line"><a name="l06386"></a><span class="lineno"> 6386</span>&#160;                {</div><div class="line"><a name="l06387"></a><span class="lineno"> 6387</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0x7A));</div><div class="line"><a name="l06388"></a><span class="lineno"> 6388</span>&#160;                    write_number(static_cast&lt;uint32_t&gt;(N));</div><div class="line"><a name="l06389"></a><span class="lineno"> 6389</span>&#160;                }</div><div class="line"><a name="l06390"></a><span class="lineno"> 6390</span>&#160;                <span class="comment">// LCOV_EXCL_START</span></div><div class="line"><a name="l06391"></a><span class="lineno"> 6391</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N &lt;= (std::numeric_limits&lt;uint64_t&gt;::max)())</div><div class="line"><a name="l06392"></a><span class="lineno"> 6392</span>&#160;                {</div><div class="line"><a name="l06393"></a><span class="lineno"> 6393</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0x7B));</div><div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160;                    write_number(static_cast&lt;uint64_t&gt;(N));</div><div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160;                }</div><div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160;                <span class="comment">// LCOV_EXCL_STOP</span></div><div class="line"><a name="l06397"></a><span class="lineno"> 6397</span>&#160;</div><div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160;                <span class="comment">// step 2: write the string</span></div><div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160;                oa-&gt;write_characters(</div><div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160;                    reinterpret_cast&lt;const CharType*&gt;(j.m_value.string-&gt;c_str()),</div><div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160;                    j.m_value.string-&gt;size());</div><div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06403"></a><span class="lineno"> 6403</span>&#160;            }</div><div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160;</div><div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985af1f713c9e000f5d3f280adbd124df4f5">value_t::array</a>:</div><div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;            {</div><div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;                <span class="comment">// step 1: write control byte and the array size</span></div><div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;                <span class="keyword">const</span> <span class="keyword">auto</span> N = j.m_value.array-&gt;size();</div><div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160;                <span class="keywordflow">if</span> (N &lt;= 0x17)</div><div class="line"><a name="l06410"></a><span class="lineno"> 6410</span>&#160;                {</div><div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160;                    write_number(static_cast&lt;uint8_t&gt;(0x80 + N));</div><div class="line"><a name="l06412"></a><span class="lineno"> 6412</span>&#160;                }</div><div class="line"><a name="l06413"></a><span class="lineno"> 6413</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N &lt;= (std::numeric_limits&lt;uint8_t&gt;::max)())</div><div class="line"><a name="l06414"></a><span class="lineno"> 6414</span>&#160;                {</div><div class="line"><a name="l06415"></a><span class="lineno"> 6415</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0x98));</div><div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160;                    write_number(static_cast&lt;uint8_t&gt;(N));</div><div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160;                }</div><div class="line"><a name="l06418"></a><span class="lineno"> 6418</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N &lt;= (std::numeric_limits&lt;uint16_t&gt;::max)())</div><div class="line"><a name="l06419"></a><span class="lineno"> 6419</span>&#160;                {</div><div class="line"><a name="l06420"></a><span class="lineno"> 6420</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0x99));</div><div class="line"><a name="l06421"></a><span class="lineno"> 6421</span>&#160;                    write_number(static_cast&lt;uint16_t&gt;(N));</div><div class="line"><a name="l06422"></a><span class="lineno"> 6422</span>&#160;                }</div><div class="line"><a name="l06423"></a><span class="lineno"> 6423</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N &lt;= (std::numeric_limits&lt;uint32_t&gt;::max)())</div><div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160;                {</div><div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0x9A));</div><div class="line"><a name="l06426"></a><span class="lineno"> 6426</span>&#160;                    write_number(static_cast&lt;uint32_t&gt;(N));</div><div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160;                }</div><div class="line"><a name="l06428"></a><span class="lineno"> 6428</span>&#160;                <span class="comment">// LCOV_EXCL_START</span></div><div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N &lt;= (std::numeric_limits&lt;uint64_t&gt;::max)())</div><div class="line"><a name="l06430"></a><span class="lineno"> 6430</span>&#160;                {</div><div class="line"><a name="l06431"></a><span class="lineno"> 6431</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0x9B));</div><div class="line"><a name="l06432"></a><span class="lineno"> 6432</span>&#160;                    write_number(static_cast&lt;uint64_t&gt;(N));</div><div class="line"><a name="l06433"></a><span class="lineno"> 6433</span>&#160;                }</div><div class="line"><a name="l06434"></a><span class="lineno"> 6434</span>&#160;                <span class="comment">// LCOV_EXCL_STOP</span></div><div class="line"><a name="l06435"></a><span class="lineno"> 6435</span>&#160;</div><div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160;                <span class="comment">// step 2: write each element</span></div><div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; el : *j.m_value.array)</div><div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160;                {</div><div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160;                    <a class="code" href="a00024.html#aa0ab8d27fd88a33a2f801413ac4c7fbc">write_cbor</a>(el);</div><div class="line"><a name="l06440"></a><span class="lineno"> 6440</span>&#160;                }</div><div class="line"><a name="l06441"></a><span class="lineno"> 6441</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06442"></a><span class="lineno"> 6442</span>&#160;            }</div><div class="line"><a name="l06443"></a><span class="lineno"> 6443</span>&#160;</div><div class="line"><a name="l06444"></a><span class="lineno"> 6444</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666">value_t::object</a>:</div><div class="line"><a name="l06445"></a><span class="lineno"> 6445</span>&#160;            {</div><div class="line"><a name="l06446"></a><span class="lineno"> 6446</span>&#160;                <span class="comment">// step 1: write control byte and the object size</span></div><div class="line"><a name="l06447"></a><span class="lineno"> 6447</span>&#160;                <span class="keyword">const</span> <span class="keyword">auto</span> N = j.m_value.object-&gt;size();</div><div class="line"><a name="l06448"></a><span class="lineno"> 6448</span>&#160;                <span class="keywordflow">if</span> (N &lt;= 0x17)</div><div class="line"><a name="l06449"></a><span class="lineno"> 6449</span>&#160;                {</div><div class="line"><a name="l06450"></a><span class="lineno"> 6450</span>&#160;                    write_number(static_cast&lt;uint8_t&gt;(0xA0 + N));</div><div class="line"><a name="l06451"></a><span class="lineno"> 6451</span>&#160;                }</div><div class="line"><a name="l06452"></a><span class="lineno"> 6452</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N &lt;= (std::numeric_limits&lt;uint8_t&gt;::max)())</div><div class="line"><a name="l06453"></a><span class="lineno"> 6453</span>&#160;                {</div><div class="line"><a name="l06454"></a><span class="lineno"> 6454</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0xB8));</div><div class="line"><a name="l06455"></a><span class="lineno"> 6455</span>&#160;                    write_number(static_cast&lt;uint8_t&gt;(N));</div><div class="line"><a name="l06456"></a><span class="lineno"> 6456</span>&#160;                }</div><div class="line"><a name="l06457"></a><span class="lineno"> 6457</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N &lt;= (std::numeric_limits&lt;uint16_t&gt;::max)())</div><div class="line"><a name="l06458"></a><span class="lineno"> 6458</span>&#160;                {</div><div class="line"><a name="l06459"></a><span class="lineno"> 6459</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0xB9));</div><div class="line"><a name="l06460"></a><span class="lineno"> 6460</span>&#160;                    write_number(static_cast&lt;uint16_t&gt;(N));</div><div class="line"><a name="l06461"></a><span class="lineno"> 6461</span>&#160;                }</div><div class="line"><a name="l06462"></a><span class="lineno"> 6462</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N &lt;= (std::numeric_limits&lt;uint32_t&gt;::max)())</div><div class="line"><a name="l06463"></a><span class="lineno"> 6463</span>&#160;                {</div><div class="line"><a name="l06464"></a><span class="lineno"> 6464</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0xBA));</div><div class="line"><a name="l06465"></a><span class="lineno"> 6465</span>&#160;                    write_number(static_cast&lt;uint32_t&gt;(N));</div><div class="line"><a name="l06466"></a><span class="lineno"> 6466</span>&#160;                }</div><div class="line"><a name="l06467"></a><span class="lineno"> 6467</span>&#160;                <span class="comment">// LCOV_EXCL_START</span></div><div class="line"><a name="l06468"></a><span class="lineno"> 6468</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N &lt;= (std::numeric_limits&lt;uint64_t&gt;::max)())</div><div class="line"><a name="l06469"></a><span class="lineno"> 6469</span>&#160;                {</div><div class="line"><a name="l06470"></a><span class="lineno"> 6470</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0xBB));</div><div class="line"><a name="l06471"></a><span class="lineno"> 6471</span>&#160;                    write_number(static_cast&lt;uint64_t&gt;(N));</div><div class="line"><a name="l06472"></a><span class="lineno"> 6472</span>&#160;                }</div><div class="line"><a name="l06473"></a><span class="lineno"> 6473</span>&#160;                <span class="comment">// LCOV_EXCL_STOP</span></div><div class="line"><a name="l06474"></a><span class="lineno"> 6474</span>&#160;</div><div class="line"><a name="l06475"></a><span class="lineno"> 6475</span>&#160;                <span class="comment">// step 2: write each element</span></div><div class="line"><a name="l06476"></a><span class="lineno"> 6476</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; el : *j.m_value.object)</div><div class="line"><a name="l06477"></a><span class="lineno"> 6477</span>&#160;                {</div><div class="line"><a name="l06478"></a><span class="lineno"> 6478</span>&#160;                    <a class="code" href="a00024.html#aa0ab8d27fd88a33a2f801413ac4c7fbc">write_cbor</a>(el.first);</div><div class="line"><a name="l06479"></a><span class="lineno"> 6479</span>&#160;                    <a class="code" href="a00024.html#aa0ab8d27fd88a33a2f801413ac4c7fbc">write_cbor</a>(el.second);</div><div class="line"><a name="l06480"></a><span class="lineno"> 6480</span>&#160;                }</div><div class="line"><a name="l06481"></a><span class="lineno"> 6481</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06482"></a><span class="lineno"> 6482</span>&#160;            }</div><div class="line"><a name="l06483"></a><span class="lineno"> 6483</span>&#160;</div><div class="line"><a name="l06484"></a><span class="lineno"> 6484</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l06485"></a><span class="lineno"> 6485</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06486"></a><span class="lineno"> 6486</span>&#160;        }</div><div class="line"><a name="l06487"></a><span class="lineno"> 6487</span>&#160;    }</div><div class="ttc" id="a00024_html_aa0ab8d27fd88a33a2f801413ac4c7fbc"><div class="ttname"><a href="a00024.html#aa0ab8d27fd88a33a2f801413ac4c7fbc">nlohmann::detail::binary_writer::write_cbor</a></div><div class="ttdeci">void write_cbor(const BasicJsonType &amp;j)</div><div class="ttdoc">[in] j JSON value to serialize </div><div class="ttdef"><b>Definition:</b> <a href="a00419_source.html#l06248">json.hpp:6248</a></div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666">nlohmann::detail::value_t::object</a></div><div class="ttdoc">object (unordered set of name/value pairs) </div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985ab45cffe084dd3d20d928bee85e7b0f21"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985ab45cffe084dd3d20d928bee85e7b0f21">nlohmann::detail::value_t::string</a></div><div class="ttdoc">string value </div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985ad9966ecb59667235a57b4b999a649eef"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985ad9966ecb59667235a57b4b999a649eef">nlohmann::detail::value_t::number_float</a></div><div class="ttdoc">number value (floating-point) </div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985a84e2c64f38f78ba3ea5c905ab5a2da27"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985a84e2c64f38f78ba3ea5c905ab5a2da27">nlohmann::detail::value_t::boolean</a></div><div class="ttdoc">boolean value </div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985a5763da164f8659d94a56e29df64b4bcc"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985a5763da164f8659d94a56e29df64b4bcc">nlohmann::detail::value_t::number_integer</a></div><div class="ttdoc">number value (signed integer) </div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985a37a6259cc0c1dae299a7866489dff0bd"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985a37a6259cc0c1dae299a7866489dff0bd">nlohmann::detail::value_t::null</a></div><div class="ttdoc">null value </div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985adce7cc8ec29055c4158828921f2f265e"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985adce7cc8ec29055c4158828921f2f265e">nlohmann::detail::value_t::number_unsigned</a></div><div class="ttdoc">number value (unsigned integer) </div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985af1f713c9e000f5d3f280adbd124df4f5"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985af1f713c9e000f5d3f280adbd124df4f5">nlohmann::detail::value_t::array</a></div><div class="ttdoc">array (ordered collection of values) </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae4e0852b64102ce4b07d99f08f828b7c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename BasicJsonType , typename CharType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="a00024.html">nlohmann::detail::binary_writer</a>&lt; BasicJsonType, CharType &gt;::write_msgpack </td>
          <td>(</td>
          <td class="paramtype">const BasicJsonType &amp;&#160;</td>
          <td class="paramname"><em>j</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>[in] j JSON value to serialize </p>

<p>Definition at line <a class="el" href="a00419_source.html#l06492">6492</a> of file <a class="el" href="a00419_source.html">json.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l06493"></a><span class="lineno"> 6493</span>&#160;    {</div><div class="line"><a name="l06494"></a><span class="lineno"> 6494</span>&#160;        <span class="keywordflow">switch</span> (j.type())</div><div class="line"><a name="l06495"></a><span class="lineno"> 6495</span>&#160;        {</div><div class="line"><a name="l06496"></a><span class="lineno"> 6496</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985a37a6259cc0c1dae299a7866489dff0bd">value_t::null</a>: <span class="comment">// nil</span></div><div class="line"><a name="l06497"></a><span class="lineno"> 6497</span>&#160;            {</div><div class="line"><a name="l06498"></a><span class="lineno"> 6498</span>&#160;                oa-&gt;write_character(static_cast&lt;CharType&gt;(0xC0));</div><div class="line"><a name="l06499"></a><span class="lineno"> 6499</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06500"></a><span class="lineno"> 6500</span>&#160;            }</div><div class="line"><a name="l06501"></a><span class="lineno"> 6501</span>&#160;</div><div class="line"><a name="l06502"></a><span class="lineno"> 6502</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985a84e2c64f38f78ba3ea5c905ab5a2da27">value_t::boolean</a>: <span class="comment">// true and false</span></div><div class="line"><a name="l06503"></a><span class="lineno"> 6503</span>&#160;            {</div><div class="line"><a name="l06504"></a><span class="lineno"> 6504</span>&#160;                oa-&gt;write_character(j.m_value.boolean</div><div class="line"><a name="l06505"></a><span class="lineno"> 6505</span>&#160;                                    ? static_cast&lt;CharType&gt;(0xC3)</div><div class="line"><a name="l06506"></a><span class="lineno"> 6506</span>&#160;                                    : static_cast&lt;CharType&gt;(0xC2));</div><div class="line"><a name="l06507"></a><span class="lineno"> 6507</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06508"></a><span class="lineno"> 6508</span>&#160;            }</div><div class="line"><a name="l06509"></a><span class="lineno"> 6509</span>&#160;</div><div class="line"><a name="l06510"></a><span class="lineno"> 6510</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985a5763da164f8659d94a56e29df64b4bcc">value_t::number_integer</a>:</div><div class="line"><a name="l06511"></a><span class="lineno"> 6511</span>&#160;            {</div><div class="line"><a name="l06512"></a><span class="lineno"> 6512</span>&#160;                <span class="keywordflow">if</span> (j.m_value.number_integer &gt;= 0)</div><div class="line"><a name="l06513"></a><span class="lineno"> 6513</span>&#160;                {</div><div class="line"><a name="l06514"></a><span class="lineno"> 6514</span>&#160;                    <span class="comment">// MessagePack does not differentiate between positive</span></div><div class="line"><a name="l06515"></a><span class="lineno"> 6515</span>&#160;                    <span class="comment">// signed integers and unsigned integers. Therefore, we used</span></div><div class="line"><a name="l06516"></a><span class="lineno"> 6516</span>&#160;                    <span class="comment">// the code from the value_t::number_unsigned case here.</span></div><div class="line"><a name="l06517"></a><span class="lineno"> 6517</span>&#160;                    <span class="keywordflow">if</span> (j.m_value.number_unsigned &lt; 128)</div><div class="line"><a name="l06518"></a><span class="lineno"> 6518</span>&#160;                    {</div><div class="line"><a name="l06519"></a><span class="lineno"> 6519</span>&#160;                        <span class="comment">// positive fixnum</span></div><div class="line"><a name="l06520"></a><span class="lineno"> 6520</span>&#160;                        write_number(static_cast&lt;uint8_t&gt;(j.m_value.number_integer));</div><div class="line"><a name="l06521"></a><span class="lineno"> 6521</span>&#160;                    }</div><div class="line"><a name="l06522"></a><span class="lineno"> 6522</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j.m_value.number_unsigned &lt;= (std::numeric_limits&lt;uint8_t&gt;::max)())</div><div class="line"><a name="l06523"></a><span class="lineno"> 6523</span>&#160;                    {</div><div class="line"><a name="l06524"></a><span class="lineno"> 6524</span>&#160;                        <span class="comment">// uint 8</span></div><div class="line"><a name="l06525"></a><span class="lineno"> 6525</span>&#160;                        oa-&gt;write_character(static_cast&lt;CharType&gt;(0xCC));</div><div class="line"><a name="l06526"></a><span class="lineno"> 6526</span>&#160;                        write_number(static_cast&lt;uint8_t&gt;(j.m_value.number_integer));</div><div class="line"><a name="l06527"></a><span class="lineno"> 6527</span>&#160;                    }</div><div class="line"><a name="l06528"></a><span class="lineno"> 6528</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j.m_value.number_unsigned &lt;= (std::numeric_limits&lt;uint16_t&gt;::max)())</div><div class="line"><a name="l06529"></a><span class="lineno"> 6529</span>&#160;                    {</div><div class="line"><a name="l06530"></a><span class="lineno"> 6530</span>&#160;                        <span class="comment">// uint 16</span></div><div class="line"><a name="l06531"></a><span class="lineno"> 6531</span>&#160;                        oa-&gt;write_character(static_cast&lt;CharType&gt;(0xCD));</div><div class="line"><a name="l06532"></a><span class="lineno"> 6532</span>&#160;                        write_number(static_cast&lt;uint16_t&gt;(j.m_value.number_integer));</div><div class="line"><a name="l06533"></a><span class="lineno"> 6533</span>&#160;                    }</div><div class="line"><a name="l06534"></a><span class="lineno"> 6534</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j.m_value.number_unsigned &lt;= (std::numeric_limits&lt;uint32_t&gt;::max)())</div><div class="line"><a name="l06535"></a><span class="lineno"> 6535</span>&#160;                    {</div><div class="line"><a name="l06536"></a><span class="lineno"> 6536</span>&#160;                        <span class="comment">// uint 32</span></div><div class="line"><a name="l06537"></a><span class="lineno"> 6537</span>&#160;                        oa-&gt;write_character(static_cast&lt;CharType&gt;(0xCE));</div><div class="line"><a name="l06538"></a><span class="lineno"> 6538</span>&#160;                        write_number(static_cast&lt;uint32_t&gt;(j.m_value.number_integer));</div><div class="line"><a name="l06539"></a><span class="lineno"> 6539</span>&#160;                    }</div><div class="line"><a name="l06540"></a><span class="lineno"> 6540</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j.m_value.number_unsigned &lt;= (std::numeric_limits&lt;uint64_t&gt;::max)())</div><div class="line"><a name="l06541"></a><span class="lineno"> 6541</span>&#160;                    {</div><div class="line"><a name="l06542"></a><span class="lineno"> 6542</span>&#160;                        <span class="comment">// uint 64</span></div><div class="line"><a name="l06543"></a><span class="lineno"> 6543</span>&#160;                        oa-&gt;write_character(static_cast&lt;CharType&gt;(0xCF));</div><div class="line"><a name="l06544"></a><span class="lineno"> 6544</span>&#160;                        write_number(static_cast&lt;uint64_t&gt;(j.m_value.number_integer));</div><div class="line"><a name="l06545"></a><span class="lineno"> 6545</span>&#160;                    }</div><div class="line"><a name="l06546"></a><span class="lineno"> 6546</span>&#160;                }</div><div class="line"><a name="l06547"></a><span class="lineno"> 6547</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l06548"></a><span class="lineno"> 6548</span>&#160;                {</div><div class="line"><a name="l06549"></a><span class="lineno"> 6549</span>&#160;                    <span class="keywordflow">if</span> (j.m_value.number_integer &gt;= -32)</div><div class="line"><a name="l06550"></a><span class="lineno"> 6550</span>&#160;                    {</div><div class="line"><a name="l06551"></a><span class="lineno"> 6551</span>&#160;                        <span class="comment">// negative fixnum</span></div><div class="line"><a name="l06552"></a><span class="lineno"> 6552</span>&#160;                        write_number(static_cast&lt;int8_t&gt;(j.m_value.number_integer));</div><div class="line"><a name="l06553"></a><span class="lineno"> 6553</span>&#160;                    }</div><div class="line"><a name="l06554"></a><span class="lineno"> 6554</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j.m_value.number_integer &gt;= (std::numeric_limits&lt;int8_t&gt;::min)() and</div><div class="line"><a name="l06555"></a><span class="lineno"> 6555</span>&#160;                             j.m_value.number_integer &lt;= (std::numeric_limits&lt;int8_t&gt;::max)())</div><div class="line"><a name="l06556"></a><span class="lineno"> 6556</span>&#160;                    {</div><div class="line"><a name="l06557"></a><span class="lineno"> 6557</span>&#160;                        <span class="comment">// int 8</span></div><div class="line"><a name="l06558"></a><span class="lineno"> 6558</span>&#160;                        oa-&gt;write_character(static_cast&lt;CharType&gt;(0xD0));</div><div class="line"><a name="l06559"></a><span class="lineno"> 6559</span>&#160;                        write_number(static_cast&lt;int8_t&gt;(j.m_value.number_integer));</div><div class="line"><a name="l06560"></a><span class="lineno"> 6560</span>&#160;                    }</div><div class="line"><a name="l06561"></a><span class="lineno"> 6561</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j.m_value.number_integer &gt;= (std::numeric_limits&lt;int16_t&gt;::min)() and</div><div class="line"><a name="l06562"></a><span class="lineno"> 6562</span>&#160;                             j.m_value.number_integer &lt;= (std::numeric_limits&lt;int16_t&gt;::max)())</div><div class="line"><a name="l06563"></a><span class="lineno"> 6563</span>&#160;                    {</div><div class="line"><a name="l06564"></a><span class="lineno"> 6564</span>&#160;                        <span class="comment">// int 16</span></div><div class="line"><a name="l06565"></a><span class="lineno"> 6565</span>&#160;                        oa-&gt;write_character(static_cast&lt;CharType&gt;(0xD1));</div><div class="line"><a name="l06566"></a><span class="lineno"> 6566</span>&#160;                        write_number(static_cast&lt;int16_t&gt;(j.m_value.number_integer));</div><div class="line"><a name="l06567"></a><span class="lineno"> 6567</span>&#160;                    }</div><div class="line"><a name="l06568"></a><span class="lineno"> 6568</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j.m_value.number_integer &gt;= (std::numeric_limits&lt;int32_t&gt;::min)() and</div><div class="line"><a name="l06569"></a><span class="lineno"> 6569</span>&#160;                             j.m_value.number_integer &lt;= (std::numeric_limits&lt;int32_t&gt;::max)())</div><div class="line"><a name="l06570"></a><span class="lineno"> 6570</span>&#160;                    {</div><div class="line"><a name="l06571"></a><span class="lineno"> 6571</span>&#160;                        <span class="comment">// int 32</span></div><div class="line"><a name="l06572"></a><span class="lineno"> 6572</span>&#160;                        oa-&gt;write_character(static_cast&lt;CharType&gt;(0xD2));</div><div class="line"><a name="l06573"></a><span class="lineno"> 6573</span>&#160;                        write_number(static_cast&lt;int32_t&gt;(j.m_value.number_integer));</div><div class="line"><a name="l06574"></a><span class="lineno"> 6574</span>&#160;                    }</div><div class="line"><a name="l06575"></a><span class="lineno"> 6575</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j.m_value.number_integer &gt;= (std::numeric_limits&lt;int64_t&gt;::min)() and</div><div class="line"><a name="l06576"></a><span class="lineno"> 6576</span>&#160;                             j.m_value.number_integer &lt;= (std::numeric_limits&lt;int64_t&gt;::max)())</div><div class="line"><a name="l06577"></a><span class="lineno"> 6577</span>&#160;                    {</div><div class="line"><a name="l06578"></a><span class="lineno"> 6578</span>&#160;                        <span class="comment">// int 64</span></div><div class="line"><a name="l06579"></a><span class="lineno"> 6579</span>&#160;                        oa-&gt;write_character(static_cast&lt;CharType&gt;(0xD3));</div><div class="line"><a name="l06580"></a><span class="lineno"> 6580</span>&#160;                        write_number(static_cast&lt;int64_t&gt;(j.m_value.number_integer));</div><div class="line"><a name="l06581"></a><span class="lineno"> 6581</span>&#160;                    }</div><div class="line"><a name="l06582"></a><span class="lineno"> 6582</span>&#160;                }</div><div class="line"><a name="l06583"></a><span class="lineno"> 6583</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06584"></a><span class="lineno"> 6584</span>&#160;            }</div><div class="line"><a name="l06585"></a><span class="lineno"> 6585</span>&#160;</div><div class="line"><a name="l06586"></a><span class="lineno"> 6586</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985adce7cc8ec29055c4158828921f2f265e">value_t::number_unsigned</a>:</div><div class="line"><a name="l06587"></a><span class="lineno"> 6587</span>&#160;            {</div><div class="line"><a name="l06588"></a><span class="lineno"> 6588</span>&#160;                <span class="keywordflow">if</span> (j.m_value.number_unsigned &lt; 128)</div><div class="line"><a name="l06589"></a><span class="lineno"> 6589</span>&#160;                {</div><div class="line"><a name="l06590"></a><span class="lineno"> 6590</span>&#160;                    <span class="comment">// positive fixnum</span></div><div class="line"><a name="l06591"></a><span class="lineno"> 6591</span>&#160;                    write_number(static_cast&lt;uint8_t&gt;(j.m_value.number_integer));</div><div class="line"><a name="l06592"></a><span class="lineno"> 6592</span>&#160;                }</div><div class="line"><a name="l06593"></a><span class="lineno"> 6593</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j.m_value.number_unsigned &lt;= (std::numeric_limits&lt;uint8_t&gt;::max)())</div><div class="line"><a name="l06594"></a><span class="lineno"> 6594</span>&#160;                {</div><div class="line"><a name="l06595"></a><span class="lineno"> 6595</span>&#160;                    <span class="comment">// uint 8</span></div><div class="line"><a name="l06596"></a><span class="lineno"> 6596</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0xCC));</div><div class="line"><a name="l06597"></a><span class="lineno"> 6597</span>&#160;                    write_number(static_cast&lt;uint8_t&gt;(j.m_value.number_integer));</div><div class="line"><a name="l06598"></a><span class="lineno"> 6598</span>&#160;                }</div><div class="line"><a name="l06599"></a><span class="lineno"> 6599</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j.m_value.number_unsigned &lt;= (std::numeric_limits&lt;uint16_t&gt;::max)())</div><div class="line"><a name="l06600"></a><span class="lineno"> 6600</span>&#160;                {</div><div class="line"><a name="l06601"></a><span class="lineno"> 6601</span>&#160;                    <span class="comment">// uint 16</span></div><div class="line"><a name="l06602"></a><span class="lineno"> 6602</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0xCD));</div><div class="line"><a name="l06603"></a><span class="lineno"> 6603</span>&#160;                    write_number(static_cast&lt;uint16_t&gt;(j.m_value.number_integer));</div><div class="line"><a name="l06604"></a><span class="lineno"> 6604</span>&#160;                }</div><div class="line"><a name="l06605"></a><span class="lineno"> 6605</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j.m_value.number_unsigned &lt;= (std::numeric_limits&lt;uint32_t&gt;::max)())</div><div class="line"><a name="l06606"></a><span class="lineno"> 6606</span>&#160;                {</div><div class="line"><a name="l06607"></a><span class="lineno"> 6607</span>&#160;                    <span class="comment">// uint 32</span></div><div class="line"><a name="l06608"></a><span class="lineno"> 6608</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0xCE));</div><div class="line"><a name="l06609"></a><span class="lineno"> 6609</span>&#160;                    write_number(static_cast&lt;uint32_t&gt;(j.m_value.number_integer));</div><div class="line"><a name="l06610"></a><span class="lineno"> 6610</span>&#160;                }</div><div class="line"><a name="l06611"></a><span class="lineno"> 6611</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j.m_value.number_unsigned &lt;= (std::numeric_limits&lt;uint64_t&gt;::max)())</div><div class="line"><a name="l06612"></a><span class="lineno"> 6612</span>&#160;                {</div><div class="line"><a name="l06613"></a><span class="lineno"> 6613</span>&#160;                    <span class="comment">// uint 64</span></div><div class="line"><a name="l06614"></a><span class="lineno"> 6614</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0xCF));</div><div class="line"><a name="l06615"></a><span class="lineno"> 6615</span>&#160;                    write_number(static_cast&lt;uint64_t&gt;(j.m_value.number_integer));</div><div class="line"><a name="l06616"></a><span class="lineno"> 6616</span>&#160;                }</div><div class="line"><a name="l06617"></a><span class="lineno"> 6617</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06618"></a><span class="lineno"> 6618</span>&#160;            }</div><div class="line"><a name="l06619"></a><span class="lineno"> 6619</span>&#160;</div><div class="line"><a name="l06620"></a><span class="lineno"> 6620</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985ad9966ecb59667235a57b4b999a649eef">value_t::number_float</a>: <span class="comment">// float 64</span></div><div class="line"><a name="l06621"></a><span class="lineno"> 6621</span>&#160;            {</div><div class="line"><a name="l06622"></a><span class="lineno"> 6622</span>&#160;                oa-&gt;write_character(static_cast&lt;CharType&gt;(0xCB));</div><div class="line"><a name="l06623"></a><span class="lineno"> 6623</span>&#160;                write_number(j.m_value.number_float);</div><div class="line"><a name="l06624"></a><span class="lineno"> 6624</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06625"></a><span class="lineno"> 6625</span>&#160;            }</div><div class="line"><a name="l06626"></a><span class="lineno"> 6626</span>&#160;</div><div class="line"><a name="l06627"></a><span class="lineno"> 6627</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985ab45cffe084dd3d20d928bee85e7b0f21">value_t::string</a>:</div><div class="line"><a name="l06628"></a><span class="lineno"> 6628</span>&#160;            {</div><div class="line"><a name="l06629"></a><span class="lineno"> 6629</span>&#160;                <span class="comment">// step 1: write control byte and the string length</span></div><div class="line"><a name="l06630"></a><span class="lineno"> 6630</span>&#160;                <span class="keyword">const</span> <span class="keyword">auto</span> N = j.m_value.string-&gt;size();</div><div class="line"><a name="l06631"></a><span class="lineno"> 6631</span>&#160;                <span class="keywordflow">if</span> (N &lt;= 31)</div><div class="line"><a name="l06632"></a><span class="lineno"> 6632</span>&#160;                {</div><div class="line"><a name="l06633"></a><span class="lineno"> 6633</span>&#160;                    <span class="comment">// fixstr</span></div><div class="line"><a name="l06634"></a><span class="lineno"> 6634</span>&#160;                    write_number(static_cast&lt;uint8_t&gt;(0xA0 | N));</div><div class="line"><a name="l06635"></a><span class="lineno"> 6635</span>&#160;                }</div><div class="line"><a name="l06636"></a><span class="lineno"> 6636</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N &lt;= (std::numeric_limits&lt;uint8_t&gt;::max)())</div><div class="line"><a name="l06637"></a><span class="lineno"> 6637</span>&#160;                {</div><div class="line"><a name="l06638"></a><span class="lineno"> 6638</span>&#160;                    <span class="comment">// str 8</span></div><div class="line"><a name="l06639"></a><span class="lineno"> 6639</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0xD9));</div><div class="line"><a name="l06640"></a><span class="lineno"> 6640</span>&#160;                    write_number(static_cast&lt;uint8_t&gt;(N));</div><div class="line"><a name="l06641"></a><span class="lineno"> 6641</span>&#160;                }</div><div class="line"><a name="l06642"></a><span class="lineno"> 6642</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N &lt;= (std::numeric_limits&lt;uint16_t&gt;::max)())</div><div class="line"><a name="l06643"></a><span class="lineno"> 6643</span>&#160;                {</div><div class="line"><a name="l06644"></a><span class="lineno"> 6644</span>&#160;                    <span class="comment">// str 16</span></div><div class="line"><a name="l06645"></a><span class="lineno"> 6645</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0xDA));</div><div class="line"><a name="l06646"></a><span class="lineno"> 6646</span>&#160;                    write_number(static_cast&lt;uint16_t&gt;(N));</div><div class="line"><a name="l06647"></a><span class="lineno"> 6647</span>&#160;                }</div><div class="line"><a name="l06648"></a><span class="lineno"> 6648</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N &lt;= (std::numeric_limits&lt;uint32_t&gt;::max)())</div><div class="line"><a name="l06649"></a><span class="lineno"> 6649</span>&#160;                {</div><div class="line"><a name="l06650"></a><span class="lineno"> 6650</span>&#160;                    <span class="comment">// str 32</span></div><div class="line"><a name="l06651"></a><span class="lineno"> 6651</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0xDB));</div><div class="line"><a name="l06652"></a><span class="lineno"> 6652</span>&#160;                    write_number(static_cast&lt;uint32_t&gt;(N));</div><div class="line"><a name="l06653"></a><span class="lineno"> 6653</span>&#160;                }</div><div class="line"><a name="l06654"></a><span class="lineno"> 6654</span>&#160;</div><div class="line"><a name="l06655"></a><span class="lineno"> 6655</span>&#160;                <span class="comment">// step 2: write the string</span></div><div class="line"><a name="l06656"></a><span class="lineno"> 6656</span>&#160;                oa-&gt;write_characters(</div><div class="line"><a name="l06657"></a><span class="lineno"> 6657</span>&#160;                    reinterpret_cast&lt;const CharType*&gt;(j.m_value.string-&gt;c_str()),</div><div class="line"><a name="l06658"></a><span class="lineno"> 6658</span>&#160;                    j.m_value.string-&gt;size());</div><div class="line"><a name="l06659"></a><span class="lineno"> 6659</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06660"></a><span class="lineno"> 6660</span>&#160;            }</div><div class="line"><a name="l06661"></a><span class="lineno"> 6661</span>&#160;</div><div class="line"><a name="l06662"></a><span class="lineno"> 6662</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985af1f713c9e000f5d3f280adbd124df4f5">value_t::array</a>:</div><div class="line"><a name="l06663"></a><span class="lineno"> 6663</span>&#160;            {</div><div class="line"><a name="l06664"></a><span class="lineno"> 6664</span>&#160;                <span class="comment">// step 1: write control byte and the array size</span></div><div class="line"><a name="l06665"></a><span class="lineno"> 6665</span>&#160;                <span class="keyword">const</span> <span class="keyword">auto</span> N = j.m_value.array-&gt;size();</div><div class="line"><a name="l06666"></a><span class="lineno"> 6666</span>&#160;                <span class="keywordflow">if</span> (N &lt;= 15)</div><div class="line"><a name="l06667"></a><span class="lineno"> 6667</span>&#160;                {</div><div class="line"><a name="l06668"></a><span class="lineno"> 6668</span>&#160;                    <span class="comment">// fixarray</span></div><div class="line"><a name="l06669"></a><span class="lineno"> 6669</span>&#160;                    write_number(static_cast&lt;uint8_t&gt;(0x90 | N));</div><div class="line"><a name="l06670"></a><span class="lineno"> 6670</span>&#160;                }</div><div class="line"><a name="l06671"></a><span class="lineno"> 6671</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N &lt;= (std::numeric_limits&lt;uint16_t&gt;::max)())</div><div class="line"><a name="l06672"></a><span class="lineno"> 6672</span>&#160;                {</div><div class="line"><a name="l06673"></a><span class="lineno"> 6673</span>&#160;                    <span class="comment">// array 16</span></div><div class="line"><a name="l06674"></a><span class="lineno"> 6674</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0xDC));</div><div class="line"><a name="l06675"></a><span class="lineno"> 6675</span>&#160;                    write_number(static_cast&lt;uint16_t&gt;(N));</div><div class="line"><a name="l06676"></a><span class="lineno"> 6676</span>&#160;                }</div><div class="line"><a name="l06677"></a><span class="lineno"> 6677</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N &lt;= (std::numeric_limits&lt;uint32_t&gt;::max)())</div><div class="line"><a name="l06678"></a><span class="lineno"> 6678</span>&#160;                {</div><div class="line"><a name="l06679"></a><span class="lineno"> 6679</span>&#160;                    <span class="comment">// array 32</span></div><div class="line"><a name="l06680"></a><span class="lineno"> 6680</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0xDD));</div><div class="line"><a name="l06681"></a><span class="lineno"> 6681</span>&#160;                    write_number(static_cast&lt;uint32_t&gt;(N));</div><div class="line"><a name="l06682"></a><span class="lineno"> 6682</span>&#160;                }</div><div class="line"><a name="l06683"></a><span class="lineno"> 6683</span>&#160;</div><div class="line"><a name="l06684"></a><span class="lineno"> 6684</span>&#160;                <span class="comment">// step 2: write each element</span></div><div class="line"><a name="l06685"></a><span class="lineno"> 6685</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; el : *j.m_value.array)</div><div class="line"><a name="l06686"></a><span class="lineno"> 6686</span>&#160;                {</div><div class="line"><a name="l06687"></a><span class="lineno"> 6687</span>&#160;                    <a class="code" href="a00024.html#ae4e0852b64102ce4b07d99f08f828b7c">write_msgpack</a>(el);</div><div class="line"><a name="l06688"></a><span class="lineno"> 6688</span>&#160;                }</div><div class="line"><a name="l06689"></a><span class="lineno"> 6689</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06690"></a><span class="lineno"> 6690</span>&#160;            }</div><div class="line"><a name="l06691"></a><span class="lineno"> 6691</span>&#160;</div><div class="line"><a name="l06692"></a><span class="lineno"> 6692</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666">value_t::object</a>:</div><div class="line"><a name="l06693"></a><span class="lineno"> 6693</span>&#160;            {</div><div class="line"><a name="l06694"></a><span class="lineno"> 6694</span>&#160;                <span class="comment">// step 1: write control byte and the object size</span></div><div class="line"><a name="l06695"></a><span class="lineno"> 6695</span>&#160;                <span class="keyword">const</span> <span class="keyword">auto</span> N = j.m_value.object-&gt;size();</div><div class="line"><a name="l06696"></a><span class="lineno"> 6696</span>&#160;                <span class="keywordflow">if</span> (N &lt;= 15)</div><div class="line"><a name="l06697"></a><span class="lineno"> 6697</span>&#160;                {</div><div class="line"><a name="l06698"></a><span class="lineno"> 6698</span>&#160;                    <span class="comment">// fixmap</span></div><div class="line"><a name="l06699"></a><span class="lineno"> 6699</span>&#160;                    write_number(static_cast&lt;uint8_t&gt;(0x80 | (N &amp; 0xF)));</div><div class="line"><a name="l06700"></a><span class="lineno"> 6700</span>&#160;                }</div><div class="line"><a name="l06701"></a><span class="lineno"> 6701</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N &lt;= (std::numeric_limits&lt;uint16_t&gt;::max)())</div><div class="line"><a name="l06702"></a><span class="lineno"> 6702</span>&#160;                {</div><div class="line"><a name="l06703"></a><span class="lineno"> 6703</span>&#160;                    <span class="comment">// map 16</span></div><div class="line"><a name="l06704"></a><span class="lineno"> 6704</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0xDE));</div><div class="line"><a name="l06705"></a><span class="lineno"> 6705</span>&#160;                    write_number(static_cast&lt;uint16_t&gt;(N));</div><div class="line"><a name="l06706"></a><span class="lineno"> 6706</span>&#160;                }</div><div class="line"><a name="l06707"></a><span class="lineno"> 6707</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (N &lt;= (std::numeric_limits&lt;uint32_t&gt;::max)())</div><div class="line"><a name="l06708"></a><span class="lineno"> 6708</span>&#160;                {</div><div class="line"><a name="l06709"></a><span class="lineno"> 6709</span>&#160;                    <span class="comment">// map 32</span></div><div class="line"><a name="l06710"></a><span class="lineno"> 6710</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(0xDF));</div><div class="line"><a name="l06711"></a><span class="lineno"> 6711</span>&#160;                    write_number(static_cast&lt;uint32_t&gt;(N));</div><div class="line"><a name="l06712"></a><span class="lineno"> 6712</span>&#160;                }</div><div class="line"><a name="l06713"></a><span class="lineno"> 6713</span>&#160;</div><div class="line"><a name="l06714"></a><span class="lineno"> 6714</span>&#160;                <span class="comment">// step 2: write each element</span></div><div class="line"><a name="l06715"></a><span class="lineno"> 6715</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; el : *j.m_value.object)</div><div class="line"><a name="l06716"></a><span class="lineno"> 6716</span>&#160;                {</div><div class="line"><a name="l06717"></a><span class="lineno"> 6717</span>&#160;                    <a class="code" href="a00024.html#ae4e0852b64102ce4b07d99f08f828b7c">write_msgpack</a>(el.first);</div><div class="line"><a name="l06718"></a><span class="lineno"> 6718</span>&#160;                    <a class="code" href="a00024.html#ae4e0852b64102ce4b07d99f08f828b7c">write_msgpack</a>(el.second);</div><div class="line"><a name="l06719"></a><span class="lineno"> 6719</span>&#160;                }</div><div class="line"><a name="l06720"></a><span class="lineno"> 6720</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06721"></a><span class="lineno"> 6721</span>&#160;            }</div><div class="line"><a name="l06722"></a><span class="lineno"> 6722</span>&#160;</div><div class="line"><a name="l06723"></a><span class="lineno"> 6723</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l06724"></a><span class="lineno"> 6724</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06725"></a><span class="lineno"> 6725</span>&#160;        }</div><div class="line"><a name="l06726"></a><span class="lineno"> 6726</span>&#160;    }</div><div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666">nlohmann::detail::value_t::object</a></div><div class="ttdoc">object (unordered set of name/value pairs) </div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985ab45cffe084dd3d20d928bee85e7b0f21"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985ab45cffe084dd3d20d928bee85e7b0f21">nlohmann::detail::value_t::string</a></div><div class="ttdoc">string value </div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985ad9966ecb59667235a57b4b999a649eef"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985ad9966ecb59667235a57b4b999a649eef">nlohmann::detail::value_t::number_float</a></div><div class="ttdoc">number value (floating-point) </div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985a84e2c64f38f78ba3ea5c905ab5a2da27"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985a84e2c64f38f78ba3ea5c905ab5a2da27">nlohmann::detail::value_t::boolean</a></div><div class="ttdoc">boolean value </div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985a5763da164f8659d94a56e29df64b4bcc"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985a5763da164f8659d94a56e29df64b4bcc">nlohmann::detail::value_t::number_integer</a></div><div class="ttdoc">number value (signed integer) </div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985a37a6259cc0c1dae299a7866489dff0bd"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985a37a6259cc0c1dae299a7866489dff0bd">nlohmann::detail::value_t::null</a></div><div class="ttdoc">null value </div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985adce7cc8ec29055c4158828921f2f265e"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985adce7cc8ec29055c4158828921f2f265e">nlohmann::detail::value_t::number_unsigned</a></div><div class="ttdoc">number value (unsigned integer) </div></div>
<div class="ttc" id="a00024_html_ae4e0852b64102ce4b07d99f08f828b7c"><div class="ttname"><a href="a00024.html#ae4e0852b64102ce4b07d99f08f828b7c">nlohmann::detail::binary_writer::write_msgpack</a></div><div class="ttdeci">void write_msgpack(const BasicJsonType &amp;j)</div><div class="ttdoc">[in] j JSON value to serialize </div><div class="ttdef"><b>Definition:</b> <a href="a00419_source.html#l06492">json.hpp:6492</a></div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985af1f713c9e000f5d3f280adbd124df4f5"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985af1f713c9e000f5d3f280adbd124df4f5">nlohmann::detail::value_t::array</a></div><div class="ttdoc">array (ordered collection of values) </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0f6c65053d859269f88eb4ebb0cd7060"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename BasicJsonType , typename CharType &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="a00024.html">nlohmann::detail::binary_writer</a>&lt; BasicJsonType, CharType &gt;::write_ubjson </td>
          <td>(</td>
          <td class="paramtype">const BasicJsonType &amp;&#160;</td>
          <td class="paramname"><em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>use_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>use_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>add_prefix</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">j</td><td>JSON value to serialize </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">use_count</td><td>whether to use '#' prefixes (optimized format) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">use_type</td><td>whether to use '$' prefixes (optimized format) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">add_prefix</td><td>whether prefixes need to be used for this value </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00419_source.html#l06734">6734</a> of file <a class="el" href="a00419_source.html">json.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l06736"></a><span class="lineno"> 6736</span>&#160;    {</div><div class="line"><a name="l06737"></a><span class="lineno"> 6737</span>&#160;        <span class="keywordflow">switch</span> (j.type())</div><div class="line"><a name="l06738"></a><span class="lineno"> 6738</span>&#160;        {</div><div class="line"><a name="l06739"></a><span class="lineno"> 6739</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985a37a6259cc0c1dae299a7866489dff0bd">value_t::null</a>:</div><div class="line"><a name="l06740"></a><span class="lineno"> 6740</span>&#160;            {</div><div class="line"><a name="l06741"></a><span class="lineno"> 6741</span>&#160;                <span class="keywordflow">if</span> (add_prefix)</div><div class="line"><a name="l06742"></a><span class="lineno"> 6742</span>&#160;                {</div><div class="line"><a name="l06743"></a><span class="lineno"> 6743</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(<span class="charliteral">&#39;Z&#39;</span>));</div><div class="line"><a name="l06744"></a><span class="lineno"> 6744</span>&#160;                }</div><div class="line"><a name="l06745"></a><span class="lineno"> 6745</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06746"></a><span class="lineno"> 6746</span>&#160;            }</div><div class="line"><a name="l06747"></a><span class="lineno"> 6747</span>&#160;</div><div class="line"><a name="l06748"></a><span class="lineno"> 6748</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985a84e2c64f38f78ba3ea5c905ab5a2da27">value_t::boolean</a>:</div><div class="line"><a name="l06749"></a><span class="lineno"> 6749</span>&#160;            {</div><div class="line"><a name="l06750"></a><span class="lineno"> 6750</span>&#160;                <span class="keywordflow">if</span> (add_prefix)</div><div class="line"><a name="l06751"></a><span class="lineno"> 6751</span>&#160;                    oa-&gt;write_character(j.m_value.boolean</div><div class="line"><a name="l06752"></a><span class="lineno"> 6752</span>&#160;                                        ? static_cast&lt;CharType&gt;(<span class="charliteral">&#39;T&#39;</span>)</div><div class="line"><a name="l06753"></a><span class="lineno"> 6753</span>&#160;                                        : static_cast&lt;CharType&gt;(<span class="charliteral">&#39;F&#39;</span>));</div><div class="line"><a name="l06754"></a><span class="lineno"> 6754</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06755"></a><span class="lineno"> 6755</span>&#160;            }</div><div class="line"><a name="l06756"></a><span class="lineno"> 6756</span>&#160;</div><div class="line"><a name="l06757"></a><span class="lineno"> 6757</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985a5763da164f8659d94a56e29df64b4bcc">value_t::number_integer</a>:</div><div class="line"><a name="l06758"></a><span class="lineno"> 6758</span>&#160;            {</div><div class="line"><a name="l06759"></a><span class="lineno"> 6759</span>&#160;                write_number_with_ubjson_prefix(j.m_value.number_integer, add_prefix);</div><div class="line"><a name="l06760"></a><span class="lineno"> 6760</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06761"></a><span class="lineno"> 6761</span>&#160;            }</div><div class="line"><a name="l06762"></a><span class="lineno"> 6762</span>&#160;</div><div class="line"><a name="l06763"></a><span class="lineno"> 6763</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985adce7cc8ec29055c4158828921f2f265e">value_t::number_unsigned</a>:</div><div class="line"><a name="l06764"></a><span class="lineno"> 6764</span>&#160;            {</div><div class="line"><a name="l06765"></a><span class="lineno"> 6765</span>&#160;                write_number_with_ubjson_prefix(j.m_value.number_unsigned, add_prefix);</div><div class="line"><a name="l06766"></a><span class="lineno"> 6766</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06767"></a><span class="lineno"> 6767</span>&#160;            }</div><div class="line"><a name="l06768"></a><span class="lineno"> 6768</span>&#160;</div><div class="line"><a name="l06769"></a><span class="lineno"> 6769</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985ad9966ecb59667235a57b4b999a649eef">value_t::number_float</a>:</div><div class="line"><a name="l06770"></a><span class="lineno"> 6770</span>&#160;            {</div><div class="line"><a name="l06771"></a><span class="lineno"> 6771</span>&#160;                write_number_with_ubjson_prefix(j.m_value.number_float, add_prefix);</div><div class="line"><a name="l06772"></a><span class="lineno"> 6772</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06773"></a><span class="lineno"> 6773</span>&#160;            }</div><div class="line"><a name="l06774"></a><span class="lineno"> 6774</span>&#160;</div><div class="line"><a name="l06775"></a><span class="lineno"> 6775</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985ab45cffe084dd3d20d928bee85e7b0f21">value_t::string</a>:</div><div class="line"><a name="l06776"></a><span class="lineno"> 6776</span>&#160;            {</div><div class="line"><a name="l06777"></a><span class="lineno"> 6777</span>&#160;                <span class="keywordflow">if</span> (add_prefix)</div><div class="line"><a name="l06778"></a><span class="lineno"> 6778</span>&#160;                {</div><div class="line"><a name="l06779"></a><span class="lineno"> 6779</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(<span class="charliteral">&#39;S&#39;</span>));</div><div class="line"><a name="l06780"></a><span class="lineno"> 6780</span>&#160;                }</div><div class="line"><a name="l06781"></a><span class="lineno"> 6781</span>&#160;                write_number_with_ubjson_prefix(j.m_value.string-&gt;size(), <span class="keyword">true</span>);</div><div class="line"><a name="l06782"></a><span class="lineno"> 6782</span>&#160;                oa-&gt;write_characters(</div><div class="line"><a name="l06783"></a><span class="lineno"> 6783</span>&#160;                    reinterpret_cast&lt;const CharType*&gt;(j.m_value.string-&gt;c_str()),</div><div class="line"><a name="l06784"></a><span class="lineno"> 6784</span>&#160;                    j.m_value.string-&gt;size());</div><div class="line"><a name="l06785"></a><span class="lineno"> 6785</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06786"></a><span class="lineno"> 6786</span>&#160;            }</div><div class="line"><a name="l06787"></a><span class="lineno"> 6787</span>&#160;</div><div class="line"><a name="l06788"></a><span class="lineno"> 6788</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985af1f713c9e000f5d3f280adbd124df4f5">value_t::array</a>:</div><div class="line"><a name="l06789"></a><span class="lineno"> 6789</span>&#160;            {</div><div class="line"><a name="l06790"></a><span class="lineno"> 6790</span>&#160;                <span class="keywordflow">if</span> (add_prefix)</div><div class="line"><a name="l06791"></a><span class="lineno"> 6791</span>&#160;                {</div><div class="line"><a name="l06792"></a><span class="lineno"> 6792</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(<span class="charliteral">&#39;[&#39;</span>));</div><div class="line"><a name="l06793"></a><span class="lineno"> 6793</span>&#160;                }</div><div class="line"><a name="l06794"></a><span class="lineno"> 6794</span>&#160;</div><div class="line"><a name="l06795"></a><span class="lineno"> 6795</span>&#160;                <span class="keywordtype">bool</span> prefix_required = <span class="keyword">true</span>;</div><div class="line"><a name="l06796"></a><span class="lineno"> 6796</span>&#160;                <span class="keywordflow">if</span> (use_type and not j.m_value.array-&gt;empty())</div><div class="line"><a name="l06797"></a><span class="lineno"> 6797</span>&#160;                {</div><div class="line"><a name="l06798"></a><span class="lineno"> 6798</span>&#160;                    assert(use_count);</div><div class="line"><a name="l06799"></a><span class="lineno"> 6799</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">char</span> first_prefix = ubjson_prefix(j.front());</div><div class="line"><a name="l06800"></a><span class="lineno"> 6800</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">bool</span> same_prefix = std::all_of(j.begin() + 1, j.end(),</div><div class="line"><a name="l06801"></a><span class="lineno"> 6801</span>&#160;                                                         [<span class="keyword">this</span>, first_prefix](<span class="keyword">const</span> BasicJsonType &amp; v)</div><div class="line"><a name="l06802"></a><span class="lineno"> 6802</span>&#160;                    {</div><div class="line"><a name="l06803"></a><span class="lineno"> 6803</span>&#160;                        <span class="keywordflow">return</span> ubjson_prefix(v) == first_prefix;</div><div class="line"><a name="l06804"></a><span class="lineno"> 6804</span>&#160;                    });</div><div class="line"><a name="l06805"></a><span class="lineno"> 6805</span>&#160;</div><div class="line"><a name="l06806"></a><span class="lineno"> 6806</span>&#160;                    <span class="keywordflow">if</span> (same_prefix)</div><div class="line"><a name="l06807"></a><span class="lineno"> 6807</span>&#160;                    {</div><div class="line"><a name="l06808"></a><span class="lineno"> 6808</span>&#160;                        prefix_required = <span class="keyword">false</span>;</div><div class="line"><a name="l06809"></a><span class="lineno"> 6809</span>&#160;                        oa-&gt;write_character(static_cast&lt;CharType&gt;(<span class="charliteral">&#39;$&#39;</span>));</div><div class="line"><a name="l06810"></a><span class="lineno"> 6810</span>&#160;                        oa-&gt;write_character(static_cast&lt;CharType&gt;(first_prefix));</div><div class="line"><a name="l06811"></a><span class="lineno"> 6811</span>&#160;                    }</div><div class="line"><a name="l06812"></a><span class="lineno"> 6812</span>&#160;                }</div><div class="line"><a name="l06813"></a><span class="lineno"> 6813</span>&#160;</div><div class="line"><a name="l06814"></a><span class="lineno"> 6814</span>&#160;                <span class="keywordflow">if</span> (use_count)</div><div class="line"><a name="l06815"></a><span class="lineno"> 6815</span>&#160;                {</div><div class="line"><a name="l06816"></a><span class="lineno"> 6816</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(<span class="charliteral">&#39;#&#39;</span>));</div><div class="line"><a name="l06817"></a><span class="lineno"> 6817</span>&#160;                    write_number_with_ubjson_prefix(j.m_value.array-&gt;size(), <span class="keyword">true</span>);</div><div class="line"><a name="l06818"></a><span class="lineno"> 6818</span>&#160;                }</div><div class="line"><a name="l06819"></a><span class="lineno"> 6819</span>&#160;</div><div class="line"><a name="l06820"></a><span class="lineno"> 6820</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; el : *j.m_value.array)</div><div class="line"><a name="l06821"></a><span class="lineno"> 6821</span>&#160;                {</div><div class="line"><a name="l06822"></a><span class="lineno"> 6822</span>&#160;                    <a class="code" href="a00024.html#a0f6c65053d859269f88eb4ebb0cd7060">write_ubjson</a>(el, use_count, use_type, prefix_required);</div><div class="line"><a name="l06823"></a><span class="lineno"> 6823</span>&#160;                }</div><div class="line"><a name="l06824"></a><span class="lineno"> 6824</span>&#160;</div><div class="line"><a name="l06825"></a><span class="lineno"> 6825</span>&#160;                <span class="keywordflow">if</span> (not use_count)</div><div class="line"><a name="l06826"></a><span class="lineno"> 6826</span>&#160;                {</div><div class="line"><a name="l06827"></a><span class="lineno"> 6827</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(<span class="charliteral">&#39;]&#39;</span>));</div><div class="line"><a name="l06828"></a><span class="lineno"> 6828</span>&#160;                }</div><div class="line"><a name="l06829"></a><span class="lineno"> 6829</span>&#160;</div><div class="line"><a name="l06830"></a><span class="lineno"> 6830</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06831"></a><span class="lineno"> 6831</span>&#160;            }</div><div class="line"><a name="l06832"></a><span class="lineno"> 6832</span>&#160;</div><div class="line"><a name="l06833"></a><span class="lineno"> 6833</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666">value_t::object</a>:</div><div class="line"><a name="l06834"></a><span class="lineno"> 6834</span>&#160;            {</div><div class="line"><a name="l06835"></a><span class="lineno"> 6835</span>&#160;                <span class="keywordflow">if</span> (add_prefix)</div><div class="line"><a name="l06836"></a><span class="lineno"> 6836</span>&#160;                {</div><div class="line"><a name="l06837"></a><span class="lineno"> 6837</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(<span class="charliteral">&#39;{&#39;</span>));</div><div class="line"><a name="l06838"></a><span class="lineno"> 6838</span>&#160;                }</div><div class="line"><a name="l06839"></a><span class="lineno"> 6839</span>&#160;</div><div class="line"><a name="l06840"></a><span class="lineno"> 6840</span>&#160;                <span class="keywordtype">bool</span> prefix_required = <span class="keyword">true</span>;</div><div class="line"><a name="l06841"></a><span class="lineno"> 6841</span>&#160;                <span class="keywordflow">if</span> (use_type and not j.m_value.object-&gt;empty())</div><div class="line"><a name="l06842"></a><span class="lineno"> 6842</span>&#160;                {</div><div class="line"><a name="l06843"></a><span class="lineno"> 6843</span>&#160;                    assert(use_count);</div><div class="line"><a name="l06844"></a><span class="lineno"> 6844</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">char</span> first_prefix = ubjson_prefix(j.front());</div><div class="line"><a name="l06845"></a><span class="lineno"> 6845</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">bool</span> same_prefix = std::all_of(j.begin(), j.end(),</div><div class="line"><a name="l06846"></a><span class="lineno"> 6846</span>&#160;                                                         [<span class="keyword">this</span>, first_prefix](<span class="keyword">const</span> BasicJsonType &amp; v)</div><div class="line"><a name="l06847"></a><span class="lineno"> 6847</span>&#160;                    {</div><div class="line"><a name="l06848"></a><span class="lineno"> 6848</span>&#160;                        <span class="keywordflow">return</span> ubjson_prefix(v) == first_prefix;</div><div class="line"><a name="l06849"></a><span class="lineno"> 6849</span>&#160;                    });</div><div class="line"><a name="l06850"></a><span class="lineno"> 6850</span>&#160;</div><div class="line"><a name="l06851"></a><span class="lineno"> 6851</span>&#160;                    <span class="keywordflow">if</span> (same_prefix)</div><div class="line"><a name="l06852"></a><span class="lineno"> 6852</span>&#160;                    {</div><div class="line"><a name="l06853"></a><span class="lineno"> 6853</span>&#160;                        prefix_required = <span class="keyword">false</span>;</div><div class="line"><a name="l06854"></a><span class="lineno"> 6854</span>&#160;                        oa-&gt;write_character(static_cast&lt;CharType&gt;(<span class="charliteral">&#39;$&#39;</span>));</div><div class="line"><a name="l06855"></a><span class="lineno"> 6855</span>&#160;                        oa-&gt;write_character(static_cast&lt;CharType&gt;(first_prefix));</div><div class="line"><a name="l06856"></a><span class="lineno"> 6856</span>&#160;                    }</div><div class="line"><a name="l06857"></a><span class="lineno"> 6857</span>&#160;                }</div><div class="line"><a name="l06858"></a><span class="lineno"> 6858</span>&#160;</div><div class="line"><a name="l06859"></a><span class="lineno"> 6859</span>&#160;                <span class="keywordflow">if</span> (use_count)</div><div class="line"><a name="l06860"></a><span class="lineno"> 6860</span>&#160;                {</div><div class="line"><a name="l06861"></a><span class="lineno"> 6861</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(<span class="charliteral">&#39;#&#39;</span>));</div><div class="line"><a name="l06862"></a><span class="lineno"> 6862</span>&#160;                    write_number_with_ubjson_prefix(j.m_value.object-&gt;size(), <span class="keyword">true</span>);</div><div class="line"><a name="l06863"></a><span class="lineno"> 6863</span>&#160;                }</div><div class="line"><a name="l06864"></a><span class="lineno"> 6864</span>&#160;</div><div class="line"><a name="l06865"></a><span class="lineno"> 6865</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; el : *j.m_value.object)</div><div class="line"><a name="l06866"></a><span class="lineno"> 6866</span>&#160;                {</div><div class="line"><a name="l06867"></a><span class="lineno"> 6867</span>&#160;                    write_number_with_ubjson_prefix(el.first.size(), <span class="keyword">true</span>);</div><div class="line"><a name="l06868"></a><span class="lineno"> 6868</span>&#160;                    oa-&gt;write_characters(</div><div class="line"><a name="l06869"></a><span class="lineno"> 6869</span>&#160;                        reinterpret_cast&lt;const CharType*&gt;(el.first.c_str()),</div><div class="line"><a name="l06870"></a><span class="lineno"> 6870</span>&#160;                        el.first.size());</div><div class="line"><a name="l06871"></a><span class="lineno"> 6871</span>&#160;                    <a class="code" href="a00024.html#a0f6c65053d859269f88eb4ebb0cd7060">write_ubjson</a>(el.second, use_count, use_type, prefix_required);</div><div class="line"><a name="l06872"></a><span class="lineno"> 6872</span>&#160;                }</div><div class="line"><a name="l06873"></a><span class="lineno"> 6873</span>&#160;</div><div class="line"><a name="l06874"></a><span class="lineno"> 6874</span>&#160;                <span class="keywordflow">if</span> (not use_count)</div><div class="line"><a name="l06875"></a><span class="lineno"> 6875</span>&#160;                {</div><div class="line"><a name="l06876"></a><span class="lineno"> 6876</span>&#160;                    oa-&gt;write_character(static_cast&lt;CharType&gt;(<span class="charliteral">&#39;}&#39;</span>));</div><div class="line"><a name="l06877"></a><span class="lineno"> 6877</span>&#160;                }</div><div class="line"><a name="l06878"></a><span class="lineno"> 6878</span>&#160;</div><div class="line"><a name="l06879"></a><span class="lineno"> 6879</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06880"></a><span class="lineno"> 6880</span>&#160;            }</div><div class="line"><a name="l06881"></a><span class="lineno"> 6881</span>&#160;</div><div class="line"><a name="l06882"></a><span class="lineno"> 6882</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l06883"></a><span class="lineno"> 6883</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l06884"></a><span class="lineno"> 6884</span>&#160;        }</div><div class="line"><a name="l06885"></a><span class="lineno"> 6885</span>&#160;    }</div><div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666">nlohmann::detail::value_t::object</a></div><div class="ttdoc">object (unordered set of name/value pairs) </div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985ab45cffe084dd3d20d928bee85e7b0f21"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985ab45cffe084dd3d20d928bee85e7b0f21">nlohmann::detail::value_t::string</a></div><div class="ttdoc">string value </div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985ad9966ecb59667235a57b4b999a649eef"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985ad9966ecb59667235a57b4b999a649eef">nlohmann::detail::value_t::number_float</a></div><div class="ttdoc">number value (floating-point) </div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985a84e2c64f38f78ba3ea5c905ab5a2da27"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985a84e2c64f38f78ba3ea5c905ab5a2da27">nlohmann::detail::value_t::boolean</a></div><div class="ttdoc">boolean value </div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985a5763da164f8659d94a56e29df64b4bcc"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985a5763da164f8659d94a56e29df64b4bcc">nlohmann::detail::value_t::number_integer</a></div><div class="ttdoc">number value (signed integer) </div></div>
<div class="ttc" id="a00024_html_a0f6c65053d859269f88eb4ebb0cd7060"><div class="ttname"><a href="a00024.html#a0f6c65053d859269f88eb4ebb0cd7060">nlohmann::detail::binary_writer::write_ubjson</a></div><div class="ttdeci">void write_ubjson(const BasicJsonType &amp;j, const bool use_count, const bool use_type, const bool add_prefix=true)</div><div class="ttdef"><b>Definition:</b> <a href="a00419_source.html#l06734">json.hpp:6734</a></div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985a37a6259cc0c1dae299a7866489dff0bd"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985a37a6259cc0c1dae299a7866489dff0bd">nlohmann::detail::value_t::null</a></div><div class="ttdoc">null value </div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985adce7cc8ec29055c4158828921f2f265e"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985adce7cc8ec29055c4158828921f2f265e">nlohmann::detail::value_t::number_unsigned</a></div><div class="ttdoc">number value (unsigned integer) </div></div>
<div class="ttc" id="a00528_html_a1ed8fc6239da25abcaf681d30ace4985af1f713c9e000f5d3f280adbd124df4f5"><div class="ttname"><a href="a00528.html#a1ed8fc6239da25abcaf681d30ace4985af1f713c9e000f5d3f280adbd124df4f5">nlohmann::detail::value_t::array</a></div><div class="ttdoc">array (ordered collection of values) </div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00024_a0f6c65053d859269f88eb4ebb0cd7060_cgraph.png" border="0" usemap="#a00024_a0f6c65053d859269f88eb4ebb0cd7060_cgraph" alt=""/></div>
<map name="a00024_a0f6c65053d859269f88eb4ebb0cd7060_cgraph" id="a00024_a0f6c65053d859269f88eb4ebb0cd7060_cgraph">
<area shape="rect" id="node2" href="a00103.html#a3f6d82a6f967c4728a1ec735a7867073" title="nlohmann::detail::out\l_of_range::create" alt="" coords="431,41,574,82"/>
<area shape="rect" id="node4" href="a00525.html#a5a92e92a5162db1c03fc73e51596a28d" title="mosq_test.to_string" alt="" coords="859,84,996,111"/>
<area shape="rect" id="node6" href="a00023.html#a1d8f70f95d241354f86a0b9ae711c1c3" title="determine system byte order " alt="" coords="213,102,376,144"/>
<area shape="rect" id="node3" href="a00035.html#abf41a7e9178356314082284e6cfea278" title="nlohmann::detail::exception\l::name" alt="" coords="629,48,811,89"/>
<area shape="rect" id="node5" href="a00525.html#a1a90c42e436a349a4c5dd9a39a015644" title="mosq_test.remaining\l_length" alt="" coords="1044,77,1187,118"/>
<area shape="rect" id="node7" href="a00112.html#a9fd60ad6bce80fd99686ad332faefd37" title="create a parse error exception " alt="" coords="424,106,581,148"/>
</map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/iot/Roomba/RoombaMQTT/<a class="el" href="a00419_source.html">json.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="a00526.html">nlohmann</a></li><li class="navelem"><a class="el" href="a00528.html">detail</a></li><li class="navelem"><a class="el" href="a00024.html">binary_writer</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
